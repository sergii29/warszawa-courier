<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Garage Tuning System</title>
    <style>
        :root {
            --bg: #0f172a;
            --card-bg: #1e293b;
            --accent: #3b82f6; /* –î–µ—Ñ–æ–ª—Ç–Ω—ã–π —Å–∏–Ω–∏–π */
            --text-main: #fff;
            --text-muted: #94a3b8;
            --success: #22c55e;
            --danger: #ef4444;
        }

        body {
            background: var(--bg);
            color: var(--text-main);
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; gap: 20px;
            min-height: 100vh;
        }

        /* –•–µ–¥–µ—Ä —Å –¥–µ–Ω—å–≥–∞–º–∏ */
        .garage-header {
            display: flex; justify-content: space-between; align-items: center;
        }
        .money-badge {
            background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            padding: 8px 16px; border-radius: 20px; font-weight: 700; font-family: monospace; font-size: 16px;
            color: #fbbf24;
        }

        /* –ü–†–ï–í–¨–Æ –ë–ê–ô–ö–ê / –°–§–ï–†–´ */
        .preview-stage {
            height: 200px;
            background: radial-gradient(circle at center, rgba(255,255,255,0.05) 0%, transparent 70%);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.05);
            display: flex; justify-content: center; align-items: center;
            position: relative;
        }

        /* –¢—é–Ω–∏–Ω–≥—É–µ–º–∞—è –°—Ñ–µ—Ä–∞ */
        .tuning-sphere {
            width: 120px; height: 120px;
            border-radius: 50%;
            background: #000;
            /* –°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ: —Ç–µ–Ω—å –±–µ—Ä–µ—Ç —Ü–≤–µ—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π --accent */
            box-shadow: 
                inset 0 0 20px var(--accent),
                0 0 30px var(--accent),
                0 20px 50px rgba(0,0,0,0.8);
            border: 2px solid var(--accent);
            display: flex; justify-content: center; align-items: center;
            transition: 0.3s ease;
        }
        .tuning-sphere b { font-size: 20px; z-index: 2; text-shadow: 0 0 10px black; }

        /* –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ */
        .stats-row {
            display: flex; gap: 10px; margin-top: -10px;
        }
        .stat-card {
            flex: 1; background: var(--card-bg); padding: 10px; border-radius: 12px;
            display: flex; flex-direction: column; gap: 5px;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .stat-name { font-size: 10px; color: var(--text-muted); text-transform: uppercase; }
        .stat-bar { height: 4px; background: rgba(0,0,0,0.5); border-radius: 2px; overflow: hidden; }
        .stat-fill { height: 100%; background: var(--text-main); width: 10%; transition: 0.3s; }

        /* –°–ü–ò–°–û–ö –£–õ–£–ß–®–ï–ù–ò–ô */
        .section-title { font-size: 12px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 2px; margin-top: 10px; }
        
        .upgrade-item {
            background: var(--card-bg);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 15px;
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px;
        }
        .upg-info h4 { margin: 0; font-size: 14px; }
        .upg-lvl { font-size: 10px; color: var(--accent); font-weight: bold; background: rgba(255,255,255,0.05); padding: 2px 6px; border-radius: 4px; margin-left: 5px; }
        .upg-desc { font-size: 11px; color: var(--text-muted); margin-top: 4px; }

        .btn-buy {
            background: var(--success);
            color: black; border: none;
            padding: 8px 16px; border-radius: 8px;
            font-weight: 700; font-size: 12px;
            cursor: pointer;
            min-width: 80px;
        }
        .btn-buy:active { transform: scale(0.95); }

        /* –°–ï–õ–ï–ö–¢–û–† –¶–í–ï–¢–ê */
        .color-grid { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 5px; }
        .color-btn {
            width: 40px; height: 40px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.2);
            cursor: pointer; flex-shrink: 0;
        }
        .color-btn.active { border-color: white; transform: scale(1.1); }

    </style>
</head>
<body>

    <div class="garage-header">
        <h2 style="margin:0;">‚öôÔ∏è GARAGE</h2>
        <div class="money-badge" id="money-display">5000 PLN</div>
    </div>

    <div class="preview-stage">
        <div class="tuning-sphere" id="sphere-preview">
            <b>TAP</b>
        </div>
    </div>

    <div class="stats-row">
        <div class="stat-card">
            <div class="stat-name">–°–∫–æ—Ä–æ—Å—Ç—å</div>
            <div class="stat-bar"><div class="stat-fill" id="bar-speed" style="width: 10%"></div></div>
            <div id="val-speed" style="font-size:10px; text-align:right;">10 km/h</div>
        </div>
        <div class="stat-card">
            <div class="stat-name">–≠–∫–æ–Ω–æ–º–∏—è</div>
            <div class="stat-bar"><div class="stat-fill" id="bar-eco" style="width: 0%"></div></div>
            <div id="val-eco" style="font-size:10px; text-align:right;">0%</div>
        </div>
    </div>

    <div class="section-title">üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¢—é–Ω–∏–Ω–≥</div>
    
    <div class="upgrade-item">
        <div class="upg-info">
            <h4>–î–≤–∏–≥–∞—Ç–µ–ª—å <span class="upg-lvl" id="lvl-motor">LVL 1</span></h4>
            <div class="upg-desc">–†–∞—Å—Ö–æ–¥ —ç–Ω–µ—Ä–≥–∏–∏ -5% –∑–∞ —É—Ä–æ–≤–µ–Ω—å</div>
        </div>
        <button class="btn-buy" id="btn-motor" onclick="upgradePart('motor')">
            500 PLN
        </button>
    </div>

    <div class="upgrade-item">
        <div class="upg-info">
            <h4>–ö–æ–ª–µ—Å–∞ <span class="upg-lvl" id="lvl-wheels">LVL 1</span></h4>
            <div class="upg-desc">–°–∫–æ—Ä–æ—Å—Ç—å +2 km/h –∑–∞ —É—Ä–æ–≤–µ–Ω—å</div>
        </div>
        <button class="btn-buy" id="btn-wheels" onclick="upgradePart('wheels')">
            350 PLN
        </button>
    </div>

    <div class="section-title">üé® –ù–µ–æ–Ω–æ–≤–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ (200 PLN)</div>
    <div class="color-grid">
        <div class="color-btn active" style="background:#3b82f6" onclick="setNeon('#3b82f6', this)"></div> <div class="color-btn" style="background:#ef4444" onclick="setNeon('#ef4444', this)"></div> <div class="color-btn" style="background:#22c55e" onclick="setNeon('#22c55e', this)"></div> <div class="color-btn" style="background:#a855f7" onclick="setNeon('#a855f7', this)"></div> <div class="color-btn" style="background:#D4FF00" onclick="setNeon('#D4FF00', this)"></div> <div class="color-btn" style="background:#f97316" onclick="setNeon('#f97316', this)"></div> </div>

    <script>
        // –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–∞
        let money = 5000;
        let upgrades = {
            motor: { lvl: 1, basePrice: 500, stat: 0 },
            wheels: { lvl: 1, basePrice: 350, stat: 10 }
        };

        function updateUI() {
            document.getElementById('money-display').innerText = Math.floor(money) + " PLN";

            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –∏ —Ü–µ–Ω—ã
            updatePartUI('motor', 5); // 5% –∑–∞ —É—Ä–æ–≤–µ–Ω—å
            updatePartUI('wheels', 2); // 2 km/h –∑–∞ —É—Ä–æ–≤–µ–Ω—å
        }

        function updatePartUI(type, statStep) {
            let part = upgrades[type];
            // –§–û–†–ú–£–õ–ê –†–û–°–¢–ê –¶–ï–ù–´: –ë–∞–∑–∞ * (1.5 –≤ —Å—Ç–µ–ø–µ–Ω–∏ —É—Ä–æ–≤–Ω—è)
            let nextPrice = Math.floor(part.basePrice * Math.pow(1.5, part.lvl - 1));
            
            document.getElementById('lvl-' + type).innerText = "LVL " + part.lvl;
            document.getElementById('btn-' + type).innerText = nextPrice + " PLN";
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–æ—Å–∫–∏ —Å—Ç–∞—Ç–æ–≤
            if(type === 'wheels') {
                let val = 10 + (part.lvl - 1) * statStep;
                document.getElementById('val-speed').innerText = val + " km/h";
                document.getElementById('bar-speed').style.width = Math.min(100, val * 2) + "%";
            }
            if(type === 'motor') {
                let val = (part.lvl - 1) * statStep;
                document.getElementById('val-eco').innerText = val + "%";
                document.getElementById('bar-eco').style.width = Math.min(100, val * 2) + "%";
            }
        }

        function upgradePart(type) {
            let part = upgrades[type];
            let price = Math.floor(part.basePrice * Math.pow(1.5, part.lvl - 1));

            if (money >= price) {
                money -= price;
                part.lvl++;
                
                // –í–∏–±—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–π—Ñ–∞
                if(window.navigator.vibrate) window.navigator.vibrate(50);
                
                updateUI();
            } else {
                alert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–µ–Ω–µ–≥! –ù—É–∂–Ω–æ " + price);
            }
        }

        function setNeon(color, el) {
            // –≠–º—É–ª—è—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ —Ü–≤–µ—Ç–∞
            if (money >= 200 || el.classList.contains('unlocked')) { 
                if(!el.classList.contains('unlocked')) {
                    if(confirm("–ö—É–ø–∏—Ç—å —ç—Ç–æ—Ç —Ü–≤–µ—Ç –∑–∞ 200 PLN?")) {
                        money -= 200;
                        el.classList.add('unlocked');
                        updateUI();
                    } else return;
                }
                
                // –ú–µ–Ω—è–µ–º CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é --accent
                document.documentElement.style.setProperty('--accent', color);
                
                // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å
                document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));
                el.classList.add('active');
                
                if(window.navigator.vibrate) window.navigator.vibrate(20);
            } else {
                alert("–ù–µ—Ç –¥–µ–Ω–µ–≥ –Ω–∞ –ø–æ–∫—Ä–∞—Å–∫—É!");
            }
        }
        
        // –ü–æ–º–µ—á–∞–µ–º –ø–µ—Ä–≤—ã–π —Ü–≤–µ—Ç –∫–∞–∫ –∫—É–ø–ª–µ–Ω–Ω—ã–π
        document.querySelector('.color-btn').classList.add('unlocked');

        updateUI();
    </script>

</body>
</html>
