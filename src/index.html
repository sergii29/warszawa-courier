<body>
  <h1>Warszawa Courier</h1>

  <div id="hud"></div>

  <button id="orderBtn">–í–∑—è—Ç—å –∑–∞–∫–∞–∑</button>

  <script type="module">
    import { state } from "./state.js";

    const hud = document.getElementById("hud");
    const btn = document.getElementById("orderBtn");

    function render() {
      hud.innerHTML = `
        üí∞ –î–µ–Ω—å–≥–∏: ${state.money}<br>
        ‚ö° –≠–Ω–µ—Ä–≥–∏—è: ${state.energy}<br>
        üòµ –°—Ç—Ä–µ—Å—Å: ${state.stress}
      `;
    }

btn.onclick = () => {
  if (state.energy <= 0) {
    alert("–ù–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏");
    return;
  }

  const roll = Math.random();

  // –≤—Å–µ–≥–¥–∞ —Ç—Ä–∞—Ç–∏–º —ç–Ω–µ—Ä–≥–∏—é
  state.energy -= 10;

  if (roll < 0.6) {
    // –æ–±—ã—á–Ω—ã–π –∑–∞–∫–∞–∑
    state.money += 50;
  } else if (roll < 0.85) {
    // –±–æ–Ω—É—Å
    state.money += 120;
    alert("VIP –∫–ª–∏–µ–Ω—Ç üí∏");
  } else {
    // –ø—Ä–æ–≤–∞–ª
    state.money -= 40;
    state.stress += 15;
    alert("–ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–∫–∞–∑–æ–º üò°");
  }

  // —Å—Ç—Ä–µ—Å—Å —Ä–∞—Å—Ç—ë—Ç –≤—Å–µ–≥–¥–∞
  state.stress += 5;

  render();
};


    render();
  </script>
</body>
