<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Warszawa Courier - inDrive Style</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        :root {
            --bg-color: #f9f9e8;
            --grid-color: #e2e2ca;
            --main-dark: #2c2e3a;
            --accent-lime: #c8ff00;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            overflow: hidden;
            color: var(--main-dark);
        }

        /* Фоновая сетка как на карте */
        #map-container {
            position: relative;
            width: 100%;
            height: 100vh;
            background-color: var(--bg-color);
            background-image: 
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 50px 50px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Верхняя панель баланса */
        #header {
            position: absolute;
            top: 20px;
            width: 100%;
            text-align: center;
            z-index: 10;
        }

        .balance-card {
            background: white;
            padding: 10px 25px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: inline-block;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Велосипедист (вместо авто) */
        .player-courier {
            position: absolute;
            width: 80px;
            height: 80px;
            transition: transform 0.3s ease;
            z-index: 5;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }

        /* Пузыри цен вокруг */
        .order-marker {
            position: absolute;
            background: #d1d1d1;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: bold;
            color: #444;
        }
        .order-marker::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 6px solid #d1d1d1;
        }

        /* Центральный контроллер цены */
        .price-selector {
            position: absolute;
            bottom: 30%;
            display: flex;
            align-items: center;
            background: var(--main-dark);
            color: white;
            padding: 12px 20px;
            border-radius: 15px;
            gap: 15px;
            z-index: 10;
        }

        .price-selector button {
            background: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .price-display {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--accent-lime);
        }

        /* Нижняя кнопка действия */
        .action-button {
            position: absolute;
            bottom: 40px;
            left: 10%;
            right: 10%;
            background: var(--accent-lime);
            color: black;
            padding: 18px;
            border-radius: 12px;
            text-align: center;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 1.1rem;
            box-shadow: 0 4px 0 #a2ce00;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div id="header">
        <div class="balance-card">
            <span id="balance">0,00</span> PLN
        </div>
    </div>

    <div id="map-container">
        <div class="order-marker" style="top: 25%; right: 15%;">9.5 zł</div>
        <div class="order-marker" style="top: 55%; left: 10%;">9.0 zł</div>
        <div class="order-marker" style="bottom: 35%; right: 20%;">9.0 zł</div>

        <div class="player-courier">
            <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="50" cy="50" r="45" fill="#c8ff00"/> <path d="M35 70C38.3137 70 41 67.3137 41 64C41 60.6863 38.3137 58 35 58C31.6863 58 29 60.6863 29 64C29 67.3137 31.6863 70 35 70Z" stroke="black" stroke-width="3"/>
                <path d="M65 70C68.3137 70 71 67.3137 71 64C71 60.6863 68.3137 58 65 58C61.6863 58 59 60.6863 59 64C59 67.3137 61.6863 70 65 70Z" stroke="black" stroke-width="3"/>
                <path d="M35 64L50 64L58 45H70" stroke="black" stroke-width="3" stroke-linecap="round"/>
                <path d="M50 64L45 42L55 35" stroke="black" stroke-width="3" stroke-linecap="round"/>
            </svg>
        </div>

        <div class="price-selector">
            <button onclick="changePrice(-0.5)">−</button>
            <div class="price-display"><span id="order-price">7.0</span> zł</div>
            <button onclick="changePrice(0.5)">+</button>
        </div>

        <div class="action-button" onclick="takeOrder()">
            Взять заказ
        </div>
    </div>

    <script>
        // Твой конфиг Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyChrQMyO2soPgoEHq_f3aYs5Cs19q3sWEk",
            authDomain: "warszawa-courier.firebaseapp.com",
            databaseURL: "https://warszawa-courier-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "warszawa-courier",
            storageBucket: "warszawa-courier.firebasestorage.app",
            messagingSenderId: "295860613508",
            appId: "1:295860613508:web:86fe8364377d6875612dd1",
            measurementId: "G-TGSCHBVLX2"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        window.db = db;
        console.log("Firebase initialized for Warsaw Courier");

        // Логика цены заказа
        let currentOrderPrice = 7.0;
        function changePrice(delta) {
            currentOrderPrice += delta;
            if (currentOrderPrice < 5) currentOrderPrice = 5; // Минимум
            document.getElementById('order-price').innerText = currentOrderPrice.toFixed(1);
        }

        function takeOrder() {
            alert("Заказ принят за " + currentOrderPrice.toFixed(1) + " PLN. Погнали!");
        }
    </script>
</body>
</html>
